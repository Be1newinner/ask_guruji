import { type NextRequest, NextResponse } from "next/server"

const astroResponses = [
  "ðŸŒŸ à¤†à¤ªà¤•à¥‡ à¤¸à¤¿à¤¤à¤¾à¤°à¥‡ à¤•à¤¹ à¤°à¤¹à¥‡ à¤¹à¥ˆà¤‚ à¤•à¤¿ à¤†à¤¨à¥‡ à¤µà¤¾à¤²à¤¾ à¤¸à¤®à¤¯ à¤†à¤ªà¤•à¥‡ à¤²à¤¿à¤ à¤¬à¤¹à¥à¤¤ à¤¶à¥à¤­ à¤¹à¥ˆà¥¤ à¤¶à¤¨à¤¿ à¤•à¥€ à¤¦à¤¶à¤¾ à¤®à¥‡à¤‚ à¤•à¥à¤› à¤¬à¤¦à¤²à¤¾à¤µ à¤†à¤¨à¥‡ à¤µà¤¾à¤²à¥‡ à¤¹à¥ˆà¤‚à¥¤",
  "ðŸ”® à¤†à¤ªà¤•à¥€ à¤°à¤¾à¤¶à¤¿ à¤•à¥‡ à¤…à¤¨à¥à¤¸à¤¾à¤°, à¤†à¤œ à¤•à¤¾ à¤¦à¤¿à¤¨ à¤¨à¤ à¤…à¤µà¤¸à¤°à¥‹à¤‚ à¤¸à¥‡ à¤­à¤°à¤¾ à¤¹à¥ˆà¥¤ à¤—à¥à¤°à¥ à¤—à¥à¤°à¤¹ à¤†à¤ªà¤•à¥‡ à¤¸à¤¾à¤¥ à¤¹à¥ˆà¥¤",
  "âœ¨ à¤®à¤‚à¤—à¤² à¤•à¥€ à¤¸à¥à¤¥à¤¿à¤¤à¤¿ à¤¦à¥‡à¤–à¤•à¤° à¤²à¤—à¤¤à¤¾ à¤¹à¥ˆ à¤•à¤¿ à¤†à¤ªà¤•à¥‡ à¤•à¤°à¤¿à¤¯à¤° à¤®à¥‡à¤‚ à¤œà¤²à¥à¤¦ à¤¹à¥€ à¤¤à¤°à¤•à¥à¤•à¥€ à¤¹à¥‹à¤—à¥€à¥¤ à¤§à¥ˆà¤°à¥à¤¯ à¤°à¤–à¥‡à¤‚à¥¤",
  "ðŸŒ™ à¤šà¤‚à¤¦à¥à¤°à¤®à¤¾ à¤•à¥€ à¤•à¥ƒà¤ªà¤¾ à¤¸à¥‡ à¤†à¤ªà¤•à¥‡ à¤°à¤¿à¤¶à¥à¤¤à¥‹à¤‚ à¤®à¥‡à¤‚ à¤®à¤§à¥à¤°à¤¤à¤¾ à¤†à¤à¤—à¥€à¥¤ à¤ªà¤°à¤¿à¤µà¤¾à¤° à¤•à¥‡ à¤¸à¤¾à¤¥ à¤¸à¤®à¤¯ à¤¬à¤¿à¤¤à¤¾à¤à¤‚à¥¤",
  "â­ à¤°à¤¾à¤¹à¥-à¤•à¥‡à¤¤à¥ à¤•à¥€ à¤¦à¤¶à¤¾ à¤®à¥‡à¤‚ à¤¸à¤¾à¤µà¤§à¤¾à¤¨à¥€ à¤¬à¤°à¤¤à¥‡à¤‚à¥¤ à¤•à¤¿à¤¸à¥€ à¤­à¥€ à¤¬à¤¡à¤¼à¥‡ à¤«à¥ˆà¤¸à¤²à¥‡ à¤¸à¥‡ à¤ªà¤¹à¤²à¥‡ à¤¸à¥‹à¤š-à¤µà¤¿à¤šà¤¾à¤° à¤•à¤°à¥‡à¤‚à¥¤",
  "ðŸª à¤¶à¥à¤•à¥à¤° à¤—à¥à¤°à¤¹ à¤†à¤ªà¤•à¥‡ à¤ªà¥à¤°à¥‡à¤® à¤œà¥€à¤µà¤¨ à¤®à¥‡à¤‚ à¤–à¥à¤¶à¤¿à¤¯à¤¾à¤‚ à¤²à¤¾à¤¨à¥‡ à¤µà¤¾à¤²à¤¾ à¤¹à¥ˆà¥¤ à¤¸à¤•à¤¾à¤°à¤¾à¤¤à¥à¤®à¤• à¤°à¤¹à¥‡à¤‚à¥¤",
  "ðŸŒŸ à¤†à¤ªà¤•à¥€ à¤•à¥à¤‚à¤¡à¤²à¥€ à¤®à¥‡à¤‚ à¤¸à¥‚à¤°à¥à¤¯ à¤•à¥€ à¤®à¤œà¤¬à¥‚à¤¤ à¤¸à¥à¤¥à¤¿à¤¤à¤¿ à¤¹à¥ˆà¥¤ à¤†à¤¤à¥à¤®à¤µà¤¿à¤¶à¥à¤µà¤¾à¤¸ à¤¬à¤¨à¤¾à¤ à¤°à¤–à¥‡à¤‚à¥¤",
  "ðŸ”® à¤¬à¥à¤§ à¤—à¥à¤°à¤¹ à¤•à¥€ à¤•à¥ƒà¤ªà¤¾ à¤¸à¥‡ à¤†à¤ªà¤•à¥€ à¤¬à¥à¤¦à¥à¤§à¤¿ à¤¤à¥‡à¤œ à¤¹à¥‹à¤—à¥€à¥¤ à¤¨à¤ à¤•à¤¾à¤® à¤¶à¥à¤°à¥‚ à¤•à¤°à¤¨à¥‡ à¤•à¤¾ à¤…à¤šà¥à¤›à¤¾ à¤¸à¤®à¤¯ à¤¹à¥ˆà¥¤",
]

const astroNames = ["à¤—à¥à¤°à¥à¤œà¥€ à¤°à¤¾à¤® à¤¶à¤°à¥à¤®à¤¾", "à¤ªà¤‚à¤¡à¤¿à¤¤ à¤µà¤¿à¤·à¥à¤£à¥ à¤—à¥à¤ªà¥à¤¤à¤¾", "à¤†à¤šà¤¾à¤°à¥à¤¯ à¤¸à¥à¤°à¥‡à¤¶ à¤œà¥€", "à¤—à¥à¤°à¥à¤œà¥€ à¤…à¤¨à¤¿à¤² à¤¶à¤¾à¤¸à¥à¤¤à¥à¤°à¥€", "à¤ªà¤‚à¤¡à¤¿à¤¤ à¤°à¤¾à¤œà¥‡à¤¶ à¤¤à¤¿à¤µà¤¾à¤°à¥€"]

export async function POST(request: NextRequest) {
  try {
    const { message } = await request.json()

    await new Promise((resolve) => setTimeout(resolve, 1000 + Math.random() * 2000))

    const randomResponse = astroResponses[Math.floor(Math.random() * astroResponses.length)]
    const randomName = astroNames[Math.floor(Math.random() * astroNames.length)]

    return NextResponse.json({
      response: randomResponse,
      astrologer: randomName,
      timestamp: new Date().toISOString(),
    })
  } catch (error) {
    return NextResponse.json({ error: "Failed to get astro response" }, { status: 500 })
  }
}
